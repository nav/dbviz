{% extends "base.html" %}

{% block head %}
{{ super() }}
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet" />
<style type="text/css" media="screen">
.select2-selection__rendered {
    line-height: 38px !important;
}
.select2-container .select2-selection--single {
    height: 40px !important;
}
.select2-selection__arrow {
    height: 39px !important;
}
</style>

{% endblock %}

{% block content %}
    <form class="form-connect" method="get" action="" id="table-form">
        <div class="form-group row">
            <label for="select-table">Select table to visualize</label>
            <select name="table" class="form-control" id="select-table">
                <option></option>
                {% for table in db.tables %}
                <option value="{{ table.name }}">{{ table.name }}</option>
                {% endfor %}
            </select>
        </div>
    </form>
{% endblock %}

{% block script %}
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>
    <script type="text/javascript">
     $(document).ready(function() {
         var $form = $('#table-form');
         var $element = $("#select-table");
         $element.select2();
         $element.on("select2:select", function (e) { $form.submit(); });
     });
    </script>
{% endblock %}
